create table AAAAA
(       ID VARCHAR(15) NOT NULL,
        CATEGORY VARCHAR(50),
        APPRID VARCHAR(50),
        OBJECTID VARCHAR(50),
        OBJECTID_LIKE VARCHAR(50),
        PARTICIPANTID VARCHAR(50),
        REGNO VARCHAR(50),
        TITLE VARCHAR(100),
        WORDTYPE VARCHAR(100),
        ATTACHFLAG VARCHAR(1),
        APPROVALTYPE VARCHAR(1),
        APPROVALDATE DATETIME,
        LASTSIGNERID VARCHAR(50),
        LASTSIGNERNAME VARCHAR(50),
        ENFORCEDATE DATETIME,
        APPROVALREC VARCHAR(50),
        DRAFTERNAME VARCHAR(50),
        DRAFTDATE DATETIME,
        DRAFTDEPTNAME VARCHAR(50),
        REGCLASS VARCHAR(100),
        ORGREGNO VARCHAR(100),
        PAGECNT VARCHAR(100),
        PASSWORDFLAG VARCHAR(1),
        SECURITYEXPIREDATE DATETIME,
        FILEPATH VARCHAR(255),
        PUBLICATION VARCHAR(50),
        INDEXDATE DATETIME,
        INDEX_YN VARCHAR(1),
        SYSTEM_NAME VARCHAR(50),
        CREATOR VARCHAR(20),
        PRIMARY KEY (ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



create table BBBBB
(       ID VARCHAR(15) NOT NULL,
        CATEGORY VARCHAR(50),
        APPRID VARCHAR(50),
        OBJECTID VARCHAR(50),
        OBJECTID_LIKE VARCHAR(50),
        PARTICIPANTID VARCHAR(50),
        REGNO VARCHAR(50),
        TITLE VARCHAR(100),
        WORDTYPE VARCHAR(100),
        ATTACHFLAG VARCHAR(1),
        APPROVALTYPE VARCHAR(1),
        APPROVALDATE DATETIME,
        LASTSIGNERID VARCHAR(50),
        LASTSIGNERNAME VARCHAR(50),
        ENFORCEDATE DATETIME,
        APPROVALREC VARCHAR(50),
        DRAFTERNAME VARCHAR(50),
        DRAFTDATE DATETIME,
        DRAFTDEPTNAME VARCHAR(50),
        REGCLASS VARCHAR(100),
        ORGREGNO VARCHAR(100),
        PAGECNT VARCHAR(100),
        PASSWORDFLAG VARCHAR(1),
        SECURITYEXPIREDATE DATETIME,
        FILEPATH VARCHAR(255),
        PUBLICATION VARCHAR(50),
        INDEXDATE DATETIME,
        INDEX_YN VARCHAR(1),
        SYSTEM_NAME VARCHAR(50),
        CREATOR VARCHAR(20)
        PRIMARY KEY (ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

insert into AAAAA values ('kjs','01','kjs','kjs','kjs01','1','1','INDEX','T','N','N',sysdate(),'kjs','김재성',sysdate(),'kjs','김재성',SYSDATE(),'DEPT','B','A','1','1',sysdate(),'','1',sysdate(),'N','','kjs');




create trigger autoInsert
after insert on AAAAA for each ROW 
	insert into BBBBB 
    VALUES (NEW.ID,
           NEW.CATEGORY,
           NEW.APPRID,
           NEW.OBJECTID,
           NEW.OBJECTID_LIKE,
           NEW.PARTICIPANTID,
           NEW.REGNO,
           NEW.TITLE,
           NEW.WORDTYPE,
           NEW.ATTACHFLAG,
           NEW.APPROVALTYPE,
           NEW.APPROVALDATE,
           NEW.LASTSIGNERID,
           NEW.LASTSIGNERNAME,
           NEW.ENFORCEDATE,
           NEW.APPROVALREC,
           NEW.DRAFTERNAME,
           NEW.DRAFTDATE,
           NEW.DRAFTDEPTNAME,
           NEW.REGCLASS,
           NEW.ORGREGNO,
           NEW.PAGECNT,
           NEW.PASSWORDFLAG,
           NEW.SECURITYEXPIREDATE,
           NEW.FILEPATH,
           NEW.PUBLICATION,
           NEW.INDEXDATE,
           NEW.INDEX_YN,
           NEW.SYSTEM_NAME,
           NEW.CREATOR);
	   
	   
create procedure dataBulkInsert()
BEGIN

	DECLARE i INT DEFAULT 1;
	WHILE (i <= 100) DO
	INSERT INTO AAAAA VALUE(i,CONCAT('의류','_',i),'kjs','kjs01','kjs01','ksh0100','1','안녕하세요. 구매희망','신상','N','N',sysdate(),'kjs','김재성',sysdate(),'kjs','이름',sysdate(),'kjs','A','1','1','N',sysdate(),CONCAT('/home/user/goods/hot/items/','_',sysdate()),'1',sysdate(),'N','kjs','kjs');
	SET i = i + 1;
	END WHILE;
END
call dataBulkInsert();


create procedure dataBulkUpdate()
BEGIN

	DECLARE i INT DEFAULT 1;
	WHILE (i <= 100) DO
	UPDATE kjs 
            SET CONTENT = CONCAT('안녕하세요.','_',i*2);
	SET i = i + 1;
	END WHILE;
END


create procedure dataBulkUpdate()
BEGIN

	DECLARE i INT DEFAULT 1;
	WHILE (i <= 100) DO
	UPDATE AAAAA
            SET TITLE = CONCAT('안녕하세요. 환불','_',i*2),
                 FILEPATH = CONCAT('/home/AAA/goods/hot/item/','_',sysdate());
	SET i = i + 1;
	END WHILE;
END
call dataBulkUpdate();



CREATE TRIGGER syncB
BEFORE UPDATE ON AAAAA
FOR EACH ROW 
BEGIN 
  UPDATE BBBBB
    SET TITLE = new.TITLE,
         FILEPATH = new.FILEPATH         ;
END
call dataBulkUpdate();
